<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Products by Trade Name | Radiance Pharmaceuticals</title>
  <link rel="stylesheet" href="static/css/style.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    /* Sticky Header Styles */
    header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: #fff;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    /* Ensure dropdowns appear correctly */
    .dropdown-content {
      position: absolute;
      top: 100%;
      z-index: 101;
    }
    .dropdown-sub-content {
      position: absolute;
      top: 0;
      left: 100%;
      z-index: 101;
    }

    /* Existing styles (unchanged) */
    .page-header { padding: 24px 0; }
    .page-header h1 { font-family: "Playfair Display", serif; margin: 0 0 6px; font-size: 2rem; }
    .page-header p { margin: 0; color: #555; }
    .toolbar { display: flex; gap: 12px; align-items: center; margin: 18px 0 10px; flex-wrap: wrap; }
    .search-input { flex: 1; min-width: 240px; padding: 10px 12px; border: 1px solid #e2e2e2; border-radius: 12px; }
    .hint { color: #777; font-size: .9rem; }
    .alpha {
      position: sticky;
      top: 0;
      background: #fff;
      padding: 20px 0;
      z-index: 10;
      border-bottom: 2px solid #f1f5f9;
      margin-bottom: 30px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }
    .alpha-container {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      gap: 8px;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    .alpha a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      font-size: 0.95rem;
      color: #64748b;
      text-decoration: none;
      border-radius: 8px;
      transition: all 0.2s ease;
      font-weight: 500;
    }
    .alpha a:hover {
      background-color: #4f46e5;
      color: white;
      transform: translateY(-1px);
    }
    .group { margin: 0 0 40px; }
    .group h2 {
      margin: 0 0 20px;
      font-size: 1.5rem;
      color: #1e293b;
      font-weight: 600;
      padding-left: 4px;
      border-left: 4px solid #4f46e5;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 24px;
    }
    .card {
      border: 1px solid #e2e8f0;
      border-radius: 16px;
      overflow: hidden;
      background: #fff;
      display: flex;
      flex-direction: column;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    }
    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
      border-color: #cbd5e1;
    }
    .thumb {
      width: 100%;
      aspect-ratio: 4/3;
      background: #f8fafc;
      display: flex;
      align-items: center;
      justify-content: center;
      border-bottom: 1px solid #f1f5f9;
    }
    .body {
      padding: 20px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }
    .name {
      font-weight: 600;
      margin: 0 0 8px;
      font-size: 1.1rem;
      color: #1e293b;
      line-height: 1.3;
    }
    .strength {
      margin: 0 0 12px;
      color: #64748b;
      font-size: 0.95rem;
      line-height: 1.4;
    }
    .price {
      margin: 0;
      font-size: 0.9rem;
      line-height: 1.5;
      margin-top: auto;
    }
    .tag {
      font-size: 0.75rem;
      color: #fff;
      padding: 6px 12px;
      border-radius: 20px;
      display: inline-block;
      margin-bottom: 12px;
      font-weight: 500;
      align-self: flex-start;
    }
    .btn-back {
      background: #4f46e5;
      color: #fff;
      padding: 10px 20px;
      border-radius: 12px;
      text-decoration: none;
      margin-left: auto;
      font-weight: 500;
      transition: all 0.2s ease;
    }
    .btn-back:hover {
      background: #4338ca;
      transform: translateY(-1px);
    }
    @media (max-width: 768px) {
      .page-header h1 { font-size: 2rem; }
      .grid { grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 16px; }
      .alpha-container { gap: 4px; }
      .alpha a { width: 32px; height: 32px; font-size: 0.9rem; }
      #searchInput { max-width: 100%; margin: 0 10px; }
    }
  </style>
</head>
<body>
<header>
  <div class="container">
    <div class="branding">
      <img src="static/images/Logo.png" alt="Radiance Logo" class="logo"/>
      <div class="contact-info">
        <a href="tel:+254711638779" class="phone-number">
          <i class="fas fa-phone"></i> +254 711 638 779
        </a>
        <a href="tel:+254722842823" class="phone-number">
          <i class="fas fa-phone"></i> +254 722 842 823
        </a>
        <span class="hours">
          <i class="fas fa-clock"></i> Open: Mon - Fri 9.00 am - 5.00 pm
        </span>
      </div>
    </div>
    <nav>
      <a href="index.html#about">About Us</a>
      <a href="index.html#vision-mission">Vision & Mission</a>
      <div class="dropdown">
        <a class="dropbtn">Our Products</a>
        <div class="dropdown-content">
          <div class="dropdown-sub">
            <a href="therapeutic-class.html">Therapeutic Class</a>
            <div class="dropdown-sub-content" id="dd-thera"></div>
          </div>
          <div class="dropdown-sub">
            <a href="generic-name.html">Generic Name</a>
            <div class="dropdown-sub-content" id="dd-generic"></div>
          </div>
          <div class="dropdown-sub">
            <a href="trade-name.html">Trade Name</a>
            <div class="dropdown-sub-content" id="dd-trade"></div>
          </div>
        </div>
      </div>
      <a href="index.html#contact">Contact</a>
      <div class="nav-actions">
        <a href="index.html" class="btn btn-back">‚Üê Back</a>
      </div>
    </nav>
  </div>
</header>

<main class="container">
  <div class="page-header">
    <h1>Products by Trade Name (A‚ÄìZ)</h1>
    <p>Browse Radiance products by their trade names. Use the search to filter instantly.</p>
  </div>
  <div class="toolbar">
    <input type="text" id="searchInput" placeholder="üîç Search by trade name, generic name, or strength..." />
  </div>
  <div class="alpha">
    <div class="alpha-container" id="alpha"></div>
  </div>
  <section id="list" aria-live="polite"></section>
</main>

<footer class="footer">
  <div class="footer-container">
    <div class="footer-col">
      <h3>Radiance Pharmaceuticals</h3>
      <p>Eastview Business Park along Eastern Bypass, Nairobi, Kenya</p>
      <p><strong>Email:</strong> radipharm254@gmail.com</p>
      <p><strong>Phone:</strong> +254 711 638 779 / +254 722 842 823</p>
    </div>
  </div>
  <div class="footer-bottom">
    <p>&copy; 2025 Radiance Pharmaceuticals. All rights reserved.</p>
  </div>
</footer>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
<script>
async function init() {
  try {
    const [productsResponse, classColorsResponse] = await Promise.all([
      fetch('static/data/products.json'),
      fetch('static/data/classColors.json')
    ]);

    if (!productsResponse.ok || !classColorsResponse.ok) {
      throw new Error('Failed to fetch data');
    }

    const products = await productsResponse.json();
    const classColors = await classColorsResponse.json();

    function svgPlaceholder(label, color = '#94a3b8') {
      const t = encodeURIComponent(label);
      return `data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'><rect width='400' height='300' fill='${color}'/><text x='50%' y='52%' dominant-baseline='middle' text-anchor='middle' font-family='Poppins,Arial' font-size='28' fill='white'>${t}</text></svg>`;
    }

    function fmt(n) {
      return (n == null ? '' : n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ','));
    }

    function byTrade(products, classColors, filter = '') {
      const section = document.getElementById('list');
      section.innerHTML = '';

      const map = {};
      products.forEach(d => {
        if (filter && ![d.generic, d.trade, d.strength].some(v => v.toLowerCase().includes(filter.toLowerCase()))) return;
        const firstLetter = d.trade.charAt(0).toUpperCase();
        (map[firstLetter] ??= []).push(d);
      });

      const letters = Object.keys(map).sort((a, b) => a.localeCompare(b));
      letters.forEach(letter => {
        const items = map[letter].sort((a, b) => a.trade.localeCompare(b.trade));
        const cards = items.map(d => {
          const color = classColors[d.class] || '#94a3b8';
          const img = svgPlaceholder(d.trade.split(' ')[0], color);
          return `<div class="card">
            <div class="thumb"><img src="${img}" alt="${d.trade}" style="width:100%;height:100%;object-fit:cover"></div>
            <div class="body">
              <span class="tag" style="background:${color}">${d.class}</span>
              <h4 class="name" id="${encodeURIComponent(d.trade)}">${d.trade}</h4>
              <p class="strength">${d.generic} ‚Äî ${d.strength}</p>
              <p class="price">Trade: <strong>KSh ${fmt(d.tradePrice)}</strong><br>Retail: <strong>${d.retailPrice ? `KSh ${fmt(d.retailPrice)}` : 'NETT'}</strong></p>
            </div>
          </div>`;
        }).join('');
        section.insertAdjacentHTML('beforeend', `<div class="group" id="${encodeURIComponent(letter)}"><h2>${letter}</h2><div class="grid">${cards}</div></div>`);
      });
    }

    function buildAlpha() {
      const el = document.getElementById('alpha');
      const letters = [...'ABCDEFGHIJKLMNOPQRSTUVWXYZ'];
      el.innerHTML = letters.map(L => `<a href="#${L}">${L}</a>`).join('');
    }

    function populateHoverMenus(products) {
      const ddThera = document.getElementById('dd-thera');
      const ddGeneric = document.getElementById('dd-generic');
      const ddTrade = document.getElementById('dd-trade');
      const classes = [...new Set(products.map(d => d.class))].sort((a, b) => a.localeCompare(b));
      const generics = [...new Set(products.map(d => d.generic))].sort((a, b) => a.localeCompare(b));
      const trades = [...new Set(products.map(d => d.trade))].sort((a, b) => a.localeCompare(b));
      ddThera.innerHTML = classes.map(c => `<a href="therapeutic-class.html#${encodeURIComponent(c)}">${c}</a>`).join('');
      ddGeneric.innerHTML = generics.map(g => `<a href="generic-name.html#${encodeURIComponent(g)}">${g}</a>`).join('');
      ddTrade.innerHTML = trades.map(t => `<a href="trade-name.html#${encodeURIComponent(t)}">${t}</a>`).join('');
    }

    document.getElementById('searchInput').addEventListener('input', e => byTrade(products, classColors, e.target.value));
    populateHoverMenus(products);
    buildAlpha();
    byTrade(products, classColors);

    if (location.hash) {
      const target = decodeURIComponent(location.hash.slice(1));
      const el = document.getElementById(target);
      if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  } catch (error) {
    console.error('Error loading data:', error);
    document.getElementById('list').innerHTML = '<p>Error loading products. Please try again later.</p>';
  }
}

init();
</script>
</body>
</html>